# Keep Learning Blog

***

基于 GO (Gin/Gorm) + PgSql + JavaScript (Vue) 搭建的简单的博客网站。

**目标:**

* 练习 Go 在 web 方向的 REST API 开发。
* 构建动态博客网站。

***

## 博客系统改进方案 - 2025-02-18

### 1. 安全性增强

***

#### 1.1 认证与授权

##### 1.1.1 完善 JWT Token 机制

```text
- ✅增加 refresh token 机制    (已通过 refresh token 中间件实现)
- ✅添加 token 黑名单          (已通过 token 黑名单中间件实现)
- ✅优化 token 过期时间配置     (已通过 token 过期时间中间件实现)
```

##### 1.1.2 增强 RBAC 系统

```text
- ✅完善现有的 Role 字段实现
- ✅添加权限粒度控制           (已通过 RBAC 中间件实现)
- ✅实现动态权限管理           (已通过 RBAC 中间件实现)
- ✅使用 Redis 缓存用户权限    (已通过 RBAC 中间件实现)
```

##### 1.1.3 安全防护

```text
- ✅ 安全响应头               (已通过 SecurityHeaders 中间件实现)
- ✅实现 XSS 防护             (已通过 XSS 防护中间件实现)
- ✅ 登录失败次数限制          (已通过登录限制中间件实现)
```

#### 1.2 数据安全

##### 1.2.1 数据加密

```text
- ✅优化密码加密存储           (已实现 bcrypt)
- ✅敏感信息加密               (已实现 实现加密中间件)
- ✅添加数据传输加密           (已实现 https/tls 加密)
```

##### 1.2.2 输入验证

```text
- ✅增强 API 参数验证         (已通过 gin 的 binding 标签和 XSS 过滤实现)
- ✅实现内容安全过滤           (已通过 XSS 防护中间件实现)
- ❌添加文件上传验证
```

##### 1.2.3 安全配置 - 2025-02-22

```text
- ✅优化 CORS 配置
- ✅实现安全响应头            (已通过 SecurityHeaders 中间件实现)
- ✅添加 Rate Limiting       (已通过速率限制中间件实现)
```

***

### 2. 可观测性

#### 2.1 日志系统

##### 2.1.1 日志完善

```text
- ✅扩展现有 logrus 实现
- ❌添加操作审计日志
- ❌实现日志分级存储
```

##### 2.1.2 监控告警

```text
- ❌实现异常监控
- ❌添加性能监控
- ❌实现业务监控
```

#### 2.2 诊断工具

##### 2.2.1 调试功能

```text
- ❌实现请求跟踪
- ❌添加性能分析
- ❌实现健康检查
```

***

### 代实现/优化

***

### 1. 性能优化

#### 1.1 缓存系统

##### 1.1.1 数据缓存

```text
- ❌实现热门文章缓存
- ❌添加用户信息缓存
- ❌优化标签查询缓存
```

##### 1.1.2 查询优化

```text
- ❌优化 Post 查询性能
- ❌改进评论加载策略
- ❌实现分页缓存
```

#### 1.2 数据库优化

##### 1.2.1 索引优化

```text
- ❌优化现有表索引
- ❌添加复合索引
- ❌实现搜索优化
```

##### 1.2.2 连接管理

```text
- ❌优化数据库连接池配置
- ❌实现读写分离
- ❌添加数据库监控
```

***

### 2. 功能扩展

#### 2.1 内容管理

##### 2.1.1 文章功能

```text
- ❌添加文章草稿功能
- ❌实现文章审核流程
- ❌添加文章统计功能
```

##### 2.1.2 评论功能

```text
- ❌实现评论嵌套回复
- ❌添加评论通知功能
- ❌实现评论审核机制
```

#### 2.2 用户系统

##### 2.2.1 账户安全

```text
- ❌实现邮箱验证
- ❌添加密码重置功能
- ❌实现账户注销功能
```

##### 2.2.2 用户互动

```text
- ❌实现用户关注功能
- ❌添加收藏功能
- ❌实现消息通知系统
```
